<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KORTEX | WARSPACE</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <!-- Leaflet for Map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- Custom Style -->
    <link rel="stylesheet" href="style.css">
    <style>
        /* In-page overrides for Auth and transitions */
        .auth-overlay {
            position: fixed;
            inset: 0;
            z-index: 2000;
            background: #0a0c10;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .auth-card {
            background: #151921;
            padding: 3rem;
            border-radius: 8px;
            width: 100%;
            max-width: 400px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            text-align: center;
        }

        .auth-input {
            width: 100%;
            background: #0a0c10;
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 4px;
            outline: none;
            transition: border-color 0.3s;
        }

        .auth-input:focus {
            border-color: var(--accent-blue);
        }

        .auth-btn {
            width: 100%;
            background: var(--accent-blue);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 4px;
            font-weight: 700;
            cursor: pointer;
            transition: background 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .auth-btn:hover {
            background: #2563eb;
        }

        .status-badge {
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: 800;
            margin-left: 8px;
        }

        .status-live {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.2);
        }
    </style>
</head>

<body class="bg-[#0a0c10] text-white">
    <div class="scanline"></div>

    <!-- Auth Section -->
    <div id="auth-screen" class="auth-overlay">
        <div class="auth-card">
            <div class="logo" style="justify-content: center; margin-bottom: 2rem;">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" style="color: #3b82f6;">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
                </svg>
                KORTEX <span>WARSPACE</span>
            </div>
            <div id="login-form">
                <input type="text" id="username" class="auth-input" placeholder="Callsign (–õ–æ–≥—ñ–Ω)">
                <input type="password" id="password" class="auth-input" placeholder="Encryption Key (–ü–∞—Ä–æ–ª—å)">
                <button onclick="handleLogin()" class="auth-btn">Initialize Connection</button>
                <p style="margin-top: 1.5rem; font-size: 0.8rem; color: #94a3b8;">
                    –ù–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É? <a href="#" onclick="showAdvancedReg()" style="color: var(--accent-blue);">Request
                        Access</a>
                </p>
            </div>
            <div id="pending-msg" style="display: none; padding: 2rem 0;">
                <h3 style="color: #f97316; margin-bottom: 1rem;">ACCESS PENDING</h3>
                <p style="font-size: 0.9rem; color: #94a3b8;">–í–∞—à –∑–∞–ø–∏—Ç –Ω–∞ –¥–æ—Å—Ç—É–ø –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ —Ä–æ–∑–≥–ª—è–¥—ñ
                    –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞.</p>
                <button onclick="location.reload()" class="auth-btn"
                    style="margin-top: 2rem; background: #272e3a;">Check Status</button>
            </div>
        </div>
    </div>

    <!-- Advanced Registration Overlay -->
    <div id="advanced-reg-overlay" class="registration-overlay">
        <div class="registration-container">
            <div style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 2rem;">
                <div>
                    <h1 style="font-size: 1.5rem; margin-bottom: 0.5rem;">–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –∞–Ω–∫–µ—Ç—É</h1>
                    <p style="font-size: 0.8rem; color: #64748b;">–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–∫–∞–∑—É–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –∑–≥—ñ–¥–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤.
                    </p>
                </div>
                <p style="font-size: 0.75rem; color: #94a3b8;">–í–∂–µ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞–ª–∏—Å—å? <a href="#"
                        onclick="hideAdvancedReg()" style="color: var(--accent-blue);">–õ–æ–≥—ñ–Ω</a></p>
            </div>

            <div class="reg-section">
                <h2 class="reg-section-title">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ</h2>
                <div class="reg-grid">
                    <div class="reg-group">
                        <label class="reg-label">–ü—Ä—ñ–∑–≤–∏—â–µ <span>*</span></label>
                        <input type="text" class="reg-input" placeholder="–ü—Ä–∏–∫–ª–∞–¥: –§—Ä–∞–Ω–∫–æ">
                        <p class="reg-hint">–í–∞—à–µ –∞–∫—Ç—É–∞–ª—å–Ω–µ –ø—Ä—ñ–∑–≤–∏—â–µ, —è–∫–µ –∑–∞–∑–Ω–∞—á–µ–Ω–µ —É –≤—Å—ñ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö.</p>
                    </div>
                    <div class="reg-group">
                        <label class="reg-label">–Ü–º'—è <span>*</span></label>
                        <input type="text" class="reg-input" placeholder="–ü—Ä–∏–∫–ª–∞–¥: –Ü–≤–∞–Ω">
                    </div>
                    <div class="reg-group">
                        <label class="reg-label">–ü–æ –±–∞—Ç—å–∫–æ–≤—ñ <span>*</span></label>
                        <input type="text" class="reg-input" placeholder="–ü—Ä–∏–∫–ª–∞–¥: –Ø–∫–æ–≤–∏—á">
                    </div>
                </div>
            </div>

            <div class="reg-section">
                <h2 class="reg-section-title">–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ñ –¥–∞–Ω—ñ</h2>
                <div class="reg-grid">
                    <div class="reg-group">
                        <label class="reg-label">–ú–æ–±—ñ–ª—å–Ω–∏–π —Ç–µ–ª–µ—Ñ–æ–Ω ( Signal/WhatsApp ) <span>*</span></label>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" class="reg-input" style="width: 40px; text-align: center;" value="üá∫üá¶"
                                readonly>
                            <input type="text" class="reg-input" style="flex: 1;" placeholder="+380 (__) ___-__-__">
                        </div>
                        <p class="reg-hint">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É —è–∫–∏–º –í–∏ –∫–æ—Ä–∏—Å—Ç—É—î—Ç–µ—Å—å —ñ –Ω–∞ —è–∫–æ–º—É –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
                            –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä.</p>
                    </div>
                    <div class="reg-group">
                        <label class="reg-label">–î–æ–¥–∞—Ç–∫–æ–≤–∏–π –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∏–π —Ç–µ–ª–µ—Ñ–æ–Ω</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" class="reg-input" style="width: 40px; text-align: center;" value="üá∫üá¶"
                                readonly>
                            <input type="text" class="reg-input" style="flex: 1;" placeholder="+380 (__) ___-__-__">
                        </div>
                    </div>
                    <div class="reg-group" style="grid-column: span 2;">
                        <label class="reg-label">–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞ <span>*</span></label>
                        <input type="email" id="reg-email" class="reg-input" placeholder="–ü—Ä–∏–∫–ª–∞–¥: ivan.franko@ukr.net">
                        <p class="reg-hint">–ë—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞—è–≤–∫–∏ —Ç–∞ –ø–æ–¥–∞–ª—å—à–æ—ó –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó.</p>
                    </div>
                </div>
            </div>

            <div class="reg-section">
                <h2 class="reg-section-title">–°–ª—É–∂–±–æ–≤—ñ –¥–∞–Ω—ñ</h2>
                <div class="reg-grid">
                    <div class="reg-group">
                        <label class="reg-label">–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª <span>*</span></label>
                        <input type="text" class="reg-input" placeholder="–ü—Ä–∏–∫–ª–∞–¥: –ê0000, 424 –û–ú–ë—Ä">
                        <p class="reg-hint">–í–∫–∞–∂—ñ—Ç—å –Ω–æ–º–µ—Ä —Ç–∞ –Ω–∞–∑–≤—É –í–∞—à–æ—ó –≤/—á, –±–∞—Ç–∞–ª—å–π–æ–Ω—É, –±—Ä–∏–≥–∞–¥–∏.</p>
                    </div>
                    <div class="reg-group">
                        <label class="reg-label">–ü–æ—Å–∞–¥–∞ <span>*</span></label>
                        <input type="text" class="reg-input" placeholder="–ü—Ä–∏–∫–ª–∞–¥: –Ω–∞—á–∞–ª—å–Ω–∏–∫ –∑–≤'—è–∑–∫—É">
                    </div>
                    <div class="reg-group" style="grid-column: span 2;">
                        <label class="reg-label">–ü–æ—Ä—É—á–∏—Ç–µ–ª—å –∞–±–æ ‚Ññ –¥–æ–∫—É–º–µ–Ω—Ç–∞ <span>*</span></label>
                        <input type="text" class="reg-input" placeholder="–ü—Ä–∏–∫–ª–∞–¥: deltauser, –∞–±–æ –õ–∏—Å—Ç ‚Ññ1234567890">
                        <p class="reg-hint">–í–∫–∞–∂—ñ—Ç—å DELTA –ª–æ–≥—ñ–Ω –ø–æ—Ä—É—á–∏—Ç–µ–ª—è, —è–∫–∏–π –ø—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –í–∞—à—É –æ—Å–æ–±—É.</p>
                    </div>
                    <div class="reg-group" style="grid-column: span 2;">
                        <label class="reg-label">–î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</label>
                        <textarea class="reg-input" style="min-height: 100px; resize: vertical;"
                            placeholder="–í–∫–∞–∂—ñ—Ç—å –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ..."></textarea>
                    </div>
                </div>
            </div>

            <div class="reg-section">
                <h2 class="reg-section-title">–î–æ–∫—É–º–µ–Ω—Ç–∏, —â–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—é—Ç—å –æ—Å–æ–±–∏—Å—Ç—ñ—Å—Ç—å</h2>
                <p class="reg-hint" style="margin-bottom: 1.5rem;">–§–æ—Ç–æ –º–∞—é—Ç—å –±—É—Ç–∏ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ—ó —è–∫–æ—Å—Ç—ñ, —â–æ–± –º–æ–∂–Ω–∞ –±—É–ª–æ
                    –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ —Ç–µ–∫—Å—Ç. –î–æ–∫—É–º–µ–Ω—Ç –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–¥–∏–º–∏–º.</p>
                <div class="reg-grid">
                    <div class="doc-sample">
                        <p class="reg-label" style="text-align: left; width: 100%;">1. –í–∏ —Ç–∞ –≤—ñ–π—Å—å–∫–æ–≤–∏–π –∫–≤–∏—Ç–æ–∫ —É
                            —Ä–æ–∑–≤–æ—Ä–æ—Ç—ñ <span>*</span></p>
                        <button class="upload-button"><svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12" />
                            </svg> –û–±—Ä–∞—Ç–∏ —Ñ–∞–π–ª</button>
                    </div>
                    <div class="doc-sample">
                        <p class="reg-label" style="text-align: left; width: 100%;">2. –ü–µ—Ä—à–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ —ñ–∑ —Å–µ—Ä—ñ—ó —ñ –Ω–æ–º–µ—Ä—É
                            <span>*</span>
                        </p>
                        <button class="upload-button"><svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12" />
                            </svg> –û–±—Ä–∞—Ç–∏ —Ñ–∞–π–ª</button>
                    </div>
                </div>
            </div>

            <div class="reg-section">
                <h2 class="reg-section-title">–°–∏—Å—Ç–µ–º–Ω—ñ –¥–∞–Ω—ñ</h2>
                <div class="reg-grid">
                    <div class="reg-group" style="grid-column: span 2;">
                        <label class="reg-label">–õ–æ–≥—ñ–Ω <span>*</span></label>
                        <input type="text" id="reg-username" class="reg-input" placeholder="–í–∏–≥–∞–¥–∞–π—Ç–µ –ª–æ–≥—ñ–Ω">
                        <p class="reg-hint">–¶–µ —É–Ω—ñ–∫–∞–ª—å–Ω–µ —ñ–º'—è –í–∞—à–æ–≥–æ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É KORTEX.</p>
                    </div>
                    <div class="reg-group">
                        <label class="reg-label">–ü–∞—Ä–æ–ª—å <span>*</span></label>
                        <input type="password" id="reg-password" class="reg-input">
                    </div>
                    <div class="reg-group">
                        <label class="reg-label">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –ø–∞—Ä–æ–ª—å <span>*</span></label>
                        <input type="password" class="reg-input">
                    </div>
                </div>
            </div>

            <div style="margin-top: 2rem;">
                <div class="reg-checkbox-group">
                    <input type="checkbox">
                    <p class="reg-checkbox-label">–î–∞—é –∑–≥–æ–¥—É –Ω–∞ –æ–±—Ä–æ–±–∫—É –º–æ—ó—Ö –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –æ–±—Å—è–∑—ñ —Ç–∞ –Ω–∞ —É–º–æ–≤–∞—Ö,
                        –∑–∞–∑–Ω–∞—á–µ–Ω–∏—Ö —É –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—ñ –ø—Ä–æ –æ–±—Ä–æ–±–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö <span>*</span></p>
                </div>
                <div class="reg-checkbox-group">
                    <input type="checkbox">
                    <p class="reg-checkbox-label">–Ø –ø—Ä–æ—á–∏—Ç–∞–≤(–ª–∞) —Ç–∞ –ø–æ–≥–æ–¥–∂—É—é—Å—å —ñ–∑ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –±–µ–∑–ø–µ–∫–∏ –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ
                        —Å–∏—Å—Ç–µ–º–∏ —Ç–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ—é —É–≥–æ–¥–æ—é <span>*</span></p>
                </div>
            </div>

            <div class="reg-footer">
                <button onclick="hideAdvancedReg()" class="auth-btn"
                    style="background: #272e3a; width: auto; padding: 0.8rem 2rem;">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                <button onclick="handleAdvancedRegister()" class="auth-btn"
                    style="width: auto; padding: 0.8rem 2.5rem;">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
            </div>
        </div>
    </div>
    <div id="portal-screen" style="display: none;">
        <header>
            <div class="logo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
                    stroke-linecap="round" stroke-linejoin="round" style="color: #3b82f6;">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
                </svg>
                KORTEX <span>WARSPACE</span>
            </div>
            <div class="header-actions">
                <button class="icon-btn" onclick="showAlerts()" title="Notifications">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                    </svg>
                    <span class="notification-dot"></span>
                </button>
                <button class="icon-btn" onclick="showMedia()" title="Assets">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path
                            d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">
                        </path>
                        <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                        <line x1="12" y1="22.08" x2="12" y2="12"></line>
                    </svg>
                </button>
                <button onclick="logout()" class="icon-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                </button>
                <div class="user-avatar"
                    style="width: 32px; height: 32px; background: #272e3a; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: 700; border: 1px solid rgba(255,255,255,0.1);">
                    AD</div>
            </div>
        </header>

        <main class="portal-container">
            <div class="hero">
                <div>
                    <h1>–ï–∫–æ—Å–∏—Å—Ç–µ–º–∞ –≤—ñ–π—Å—å–∫–æ–≤–∏—Ö –ø—Ä–æ–¥—É–∫—Ç—ñ–≤</h1>
                </div>
                <div class="support-info">
                    <div id="system-health" style="display: flex; gap: 2rem; margin-right: 2rem;">
                        <div style="text-align: right;">
                            <div style="font-size: 0.6rem; color: #94a3b8; text-transform: uppercase;">Node Status</div>
                            <div style="color: #10b981; font-weight: 800; font-size: 0.8rem;">OPTIMAL</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 0.6rem; color: #94a3b8; text-transform: uppercase;">Sat Link</div>
                            <div style="color: #3b82f6; font-weight: 800; font-size: 0.8rem;">ACTIVE</div>
                        </div>
                    </div>
                    <button class="support-btn">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                        </svg>
                        –°–ª—É–∂–±–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏
                    </button>
                </div>
            </div>

            <div class="grid-container">
                <!-- Monitor -->
                <div class="card active" onclick="openMonitor()">
                    <div class="card-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" style="color: #3b82f6;">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="3" y1="9" x2="21" y2="9"></line>
                            <line x1="9" y1="21" x2="9" y2="9"></line>
                        </svg>
                    </div>
                    <div class="card-title">
                        MONITOR
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </div>
                    <div class="card-description">
                        –ù–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ –≤—ñ–π—Å—å–∫–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–∏—Ç—É–∞—Ü—ñ–π–Ω–æ—ó –æ–±—ñ–∑–Ω–∞–Ω–æ—Å—Ç—ñ –∑–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏ –ù–ê–¢–û. –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–æ–ª—è –±–æ—é
                        –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.
                    </div>
                    <div class="card-footer">
                        <div class="card-footer-left">
                            <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="16" x2="12" y2="12"></line>
                                <line x1="12" y1="8" x2="12.01" y2="8"></line>
                            </svg>
                        </div>
                        <div class="card-footer-right">
                            Signal –±–æ—Ç:
                            <div class="app-links">
                                <svg class="app-icon" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.23.11-2.6 1.01-4.74 1.92-2.14.91-4.51 1.81-4.64 1.88-.34.13-.34.37-.34.37s.03.24.37.37c.34.14 1.62.53 1.62.53s.47 1.48.71 2.22c.03.09.11.16.2.18.09.02.19-.01.26-.07.41-.39 1.13-1.09 1.13-1.09s1.43 1.06 2.14 1.59c.26.19.53.22.7.05.17-.17.2-.44.11-.83-.17-.79-1.12-5.32-1.31-6.19-.02-.1-.08-.18-.17-.22-.11-.04-.23-.03-.33.02z" />
                                </svg>
                                <span>Kortex Mobile: üçè ü§ñ</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Vezha -->
                <div class="card">
                    <div class="card-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" style="color: #10b981;">
                            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
                        </svg>
                    </div>
                    <div class="card-title">
                        VEZHA
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </div>
                    <div class="card-description">
                        –ú–æ–¥—É–ª—å –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ—ó –≤–∑–∞—î–º–æ–¥—ñ—ó, –¥–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è —Ç—Ä–∞–Ω—Å–ª—è—Ü—ñ–π —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–æ—Ç—ñ–≤ –ë–ø–ê–ö.
                    </div>
                    <div class="card-footer">
                        <div class="card-footer-left">
                            <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="16" x2="12" y2="12"></line>
                                <line x1="12" y1="8" x2="12.01" y2="8"></line>
                            </svg>
                        </div>
                        <div class="card-footer-right">
                            –î–ª—è –ø—É–ª—å—Ç–∞: üì∫ <span>–í–µ–∂–∞ –≤ Kortex Mobile: ü§ñ</span>
                        </div>
                    </div>
                </div>

                <!-- Element -->
                <div class="card">
                    <div class="card-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" style="color: #f59e0b;">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        </svg>
                    </div>
                    <div class="card-title">
                        ELEMENT
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </div>
                    <div class="card-description">
                        –Ñ–¥–∏–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–æ—ó —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–æ—ó —Ç–∞ –≥—Ä—É–ø–æ–≤–æ—ó –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó —É web –∞–±–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.
                    </div>
                    <div class="card-footer">
                        <div class="card-footer-left">
                            <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="16" x2="12" y2="12"></line>
                                <line x1="12" y1="8" x2="12.01" y2="8"></line>
                            </svg>
                        </div>
                        <div class="card-footer-right">
                            –ú–æ–±—ñ–ª—å–Ω–∏–π –∫–ª—ñ—î–Ω—Ç: üçè ü§ñ
                        </div>
                    </div>
                </div>

                <!-- Target Hub -->
                <div class="card">
                    <div class="card-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" style="color: #ef4444;">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="22" y1="12" x2="18" y2="12"></line>
                            <line x1="6" y1="12" x2="2" y2="12"></line>
                            <line x1="12" y1="6" x2="12" y2="2"></line>
                            <line x1="12" y1="22" x2="12" y2="18"></line>
                        </svg>
                    </div>
                    <div class="card-title">
                        TARGET HUB
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </div>
                    <div class="card-description">
                        –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ä–æ–∑—Ä–æ–±–∫–∏ —Ü—ñ–ª–µ–π —Ç–∞ –≤–æ–≥–Ω–µ–≤–æ–≥–æ —É—Ä–∞–∂–µ–Ω–Ω—è. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—è –∞—Ä—Ç–∏–ª–µ—Ä—ñ—ó —Ç–∞ –∑–∞—Å–æ–±—ñ–≤ —É—Ä–∞–∂–µ–Ω–Ω—è.
                    </div>
                    <div class="card-footer">
                        <div class="card-footer-left">
                            <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="16" x2="12" y2="12"></line>
                                <line x1="12" y1="8" x2="12.01" y2="8"></line>
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Nextcloud -->
                <div class="card">
                    <div class="card-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" style="color: #0ea5e9;">
                            <path
                                d="M17.5 19c2.5 0 4.5-2 4.5-4.5 0-2-1.2-3.8-3.1-4.3C18.5 6.6 15.6 4 12 4c-3.2 0-6 2-7.2 4.8C2.8 9.3 1 11.2 1 13.5 1 16 3 18 5.5 18H7m10.5 1H7">
                            </path>
                        </svg>
                    </div>
                    <div class="card-title">
                        NEXTCLOUD
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </div>
                    <div class="card-description">
                        –•–º–∞—Ä–Ω–µ —Å—Ö–æ–≤–∏—â–µ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö —Ç–∞ –º—É–ª—å—Ç–∏–º–µ–¥—ñ–π–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤. –ù–∞–¥—ñ–π–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ —Ä–æ–∑–≤—ñ–¥–¥–∞–Ω–∏—Ö.
                    </div>
                    <div class="card-footer">
                        <div class="card-footer-left">
                            <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="16" x2="12" y2="12"></line>
                                <line x1="12" y1="8" x2="12.01" y2="8"></line>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Monitor Fullscreen Layer -->
    <div id="map-overlay">
        <button class="back-to-portal" onclick="closeMonitor()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <line x1="19" y1="12" x2="5" y2="12"></line>
                <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
            BACK TO ECOSYSTEM
        </button>

        <!-- Left Sidebar -->
        <div class="map-sidebar-left">
            <button class="sidebar-btn" onclick="togglePanel('layers')" title="–®–∞—Ä–∏">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
                </svg>
            </button>
            <button class="sidebar-btn" onclick="togglePanel('history')" title="–Ü—Å—Ç–æ—Ä–∏—á–Ω—ñ —Å—Ç–∞–Ω–∏">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
            </button>
            <button class="sidebar-btn" onclick="togglePanel('maps')" title="–ö–∞—Ä—Ç–∏">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <circle cx="12" cy="12" r="3"></circle>
                </svg>
            </button>
            <button class="sidebar-btn" onclick="togglePanel('objects')" title="–°–ø–∏—Å–æ–∫ –æ–±'—î–∫—Ç—ñ–≤">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="8" y1="6" x2="21" y2="6"></line>
                    <line x1="8" y1="12" x2="21" y2="12"></line>
                    <line x1="8" y1="18" x2="21" y2="18"></line>
                    <line x1="3" y1="6" x2="3.01" y2="6"></line>
                    <line x1="3" y1="12" x2="3.01" y2="12"></line>
                    <line x1="3" y1="18" x2="3.01" y2="18"></line>
                </svg>
            </button>
            <button class="sidebar-btn" onclick="togglePanel('zones')" title="–ó–æ–Ω–∏ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z">
                    </path>
                </svg>
            </button>
            <button class="sidebar-btn" onclick="togglePanel('filters')" title="–§—ñ–ª—å—Ç—Ä–∏">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
                </svg>
            </button>
            <div style="flex: 1;"></div>
            <button class="sidebar-btn" onclick="toggleSettings()" title="Settings">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path
                        d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                    </path>
                </svg>
            </button>
            <button class="sidebar-btn btn-primary" onclick="triggerAddMarker()" title="Add Marker">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
            </button>
        </div>

        <!-- Slide Panel -->
        <div id="side-panel" class="side-panel">
            <div id="panel-content">
                <!-- Content will be injected by JS -->
            </div>
        </div>

        <!-- Right Toolbar -->
        <div class="map-toolbar-right">
            <div class="search-box">
                <input type="text" id="map-search" placeholder="–ó–Ω–∞–π—Ç–∏ –∞–¥—Ä–µ—Å—É –∞–±–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏..."
                    onkeypress="if(event.key==='Enter')handleSearch(this.value)">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
            </div>

            <div class="toolbar-group">
                <button class="toolbar-btn" onclick="toggleFullscreen()" title="Fullscreen">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"></path>
                    </svg>
                </button>
                <button class="toolbar-btn" onclick="toggleFavorite()" title="Favorite Locations">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon
                            points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2">
                        </polygon>
                    </svg>
                </button>
            </div>

            <div class="zoom-controls">
                <button onclick="map.zoomIn()" class="toolbar-btn">+</button>
                <div style="height: 1px; background: rgba(255,255,255,0.1); width: 80%;"></div>
                <button onclick="map.zoomOut()" class="toolbar-btn">-</button>
            </div>
        </div>

        <div id="map-controls"
            style="position: absolute; top: 80px; left: 70px; z-index: 1001; background: rgba(21, 25, 33, 0.9); padding: 1.5rem; border-radius: 8px; border: 1px solid rgba(255,255,255,0.05); width: 280px; backdrop-filter: blur(10px);">
            <div style="display: flex; align-items: center; margin-bottom: 1.5rem;">
                <div
                    style="width: 8px; height: 8px; background: #ef4444; border-radius: 50%; margin-right: 10px; box-shadow: 0 0 10px #ef4444;">
                </div>
                <h3 style="font-size: 0.8rem; font-weight: 800; letter-spacing: 1px; color: white;">TACTICAL MONITOR
                </h3>
                <span class="status-badge status-live">LIVE</span>
            </div>

            <div style="margin-bottom: 1.5rem;">
                <label
                    style="display: block; font-size: 0.7rem; color: #94a3b8; margin-bottom: 0.5rem; text-transform: uppercase;">Map
                    Style</label>
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <label style="display: flex; align-items: center; gap: 10px; font-size: 0.85rem; cursor: pointer;">
                        <input type="radio" name="map-style" value="dark" checked onchange="changeMapStyle('dark')">
                        Dark OPS
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; font-size: 0.85rem; cursor: pointer;">
                        <input type="radio" name="map-style" value="topo" onchange="changeMapStyle('topo')"> Topographic
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; font-size: 0.85rem; cursor: pointer;">
                        <input type="radio" name="map-style" value="sat" onchange="changeMapStyle('sat')"> Satellite
                    </label>
                </div>
            </div>

            <div style="margin-bottom: 1rem;">
                <label
                    style="display: block; font-size: 0.7rem; color: #94a3b8; margin-bottom: 0.5rem; text-transform: uppercase;">Tactical
                    Layers</label>
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <label style="display: flex; align-items: center; gap: 10px; font-size: 0.85rem; cursor: pointer;">
                        <input type="checkbox" checked onchange="toggleLayer('enemy')"> Enemy Units
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; font-size: 0.85rem; cursor: pointer;">
                        <input type="checkbox" checked onchange="toggleLayer('ally')"> Friendly Assets
                    </label>
                </div>
            </div>

            <div id="admin-tools"
                style="display: none; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 1rem;">
                <h4 style="font-size: 0.7rem; color: #f97316; margin-bottom: 0.5rem;">COMMAND (ADMIN)</h4>
                <div id="pending-users" style="max-height: 200px; overflow-y: auto;">
                    <!-- List of users to approve -->
                </div>
            </div>
        </div>

        <!-- Unit Details Panel -->
        <div id="unit-details" class="unit-details-panel">
            <div id="unit-details-content">
                <!-- Content injected via JS -->
            </div>
            <div style="padding: 1rem; border-top: 1px solid rgba(255,255,255,0.05);">
                <button class="auth-btn" style="background: #ef4444; font-size: 0.75rem;"
                    onclick="closeUnitDetails()">CLOSE UNIT FILE</button>
            </div>
        </div>

        <!-- Intel Feed at bottom -->
        <div class="intel-feed">
            <div class="intel-label">
                <span style="color:red">‚óè</span> LIVE INTEL FEED
            </div>
            <div class="intel-track">
                <div class="intel-item"><span>[SYNC]</span> SATELLITE CONNECTION OPTIMAL</div>
                <div class="intel-item"><span>[INFO]</span> 23 NEW FORIFICATIONS IDENTIFIED IN SECTOR 7</div>
                <div class="intel-item"><span>[WARN]</span> UNIDENTIFIED UNIT CROSSING BORDER NEAR KHARKIV</div>
                <div class="intel-item"><span>[SYNC]</span> REFRESHING TACTICAL LAYERS...</div>
                <div class="intel-item"><span>[INFO]</span> ALL NODES REPORTING NOMINAL PERFORMANCE</div>
                <!-- Duplicate for seamless scroll -->
                <div class="intel-item"><span>[SYNC]</span> SATELLITE CONNECTION OPTIMAL</div>
                <div class="intel-item"><span>[INFO]</span> 23 NEW FORIFICATIONS IDENTIFIED IN SECTOR 7</div>
                <div class="intel-item"><span>[WARN]</span> UNIDENTIFIED UNIT CROSSING BORDER NEAR KHARKIV</div>
                <div class="intel-item"><span>[SYNC]</span> REFRESHING TACTICAL LAYERS...</div>
                <div class="intel-item"><span>[INFO]</span> ALL NODES REPORTING NOMINAL PERFORMANCE</div>
            </div>
        </div>
        <div id="map"></div>
    </div>

    <script src="app.js?v=3.2"></script>
</body>

</html>